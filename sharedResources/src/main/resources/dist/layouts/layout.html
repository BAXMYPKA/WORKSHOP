<!DOCTYPE html>
<html lang="en, ru" xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
	<meta content="text/html; charset=UTF-8">
	<script src="../js/index.es6" type="application/javascript" th:src="@{/dist/js/index.es6}" defer></script>
	<link rel="stylesheet" href="../css/layout.css" th:href="@{/dist/css/layout.css}">
	<title layout:title-pattern="$LAYOUT_TITLE $CONTENT_TITLE">WORKSHOP</title>
</head>
<body th:with="currentURL=${#request.getRequestURL()}">

<!-- MAIN CONTAINER -->

<div class="root" layout:fragment="containerMainLayout">
	
	<!-- ===== HEADER =====	-->
	
	<header class="header">
		
		<div class="logo">
			<a href="./index.html" th:href="@{/}">
				<div class="logoPicture">
					<img class="mtb" src="./assets/img/mtb.png" th:src="@{/dist/img/mtb.png}">
				</div>
			</a>
			<span class="motto" th:text="#{html.span.workshopMotto}">
				Here's the short motto.
			</span>
		</div>
		
		<div class="workshopName" th:text="#{html.div.workshopBicyclesName}">
			WORKSHOP
		</div>
		
		<div class="loginRegistration" th:with = "loggedUsername = ${#session.getAttribute('loggedUsername')}">
			
			<a href="#loginModalBackground"
			   th:href="@{#loginModalBackground}"
			   th:text="#{html.a.index.loginRegistration}">
				Login/Registration
			</a>
			<br>
			<span th:text="${loggedUsername}"><i>Greetings if logged in</i></span>
		
		</div>
		
		<div class="langAndShutdown">
			
			<form name="shutdownForm" action="/shutdown" method="post"
				  th:action="@{/shutdown}">
				<button class="shutdown"
						title="CLOSE THE APPLICATION"
						th:text="#{html.a.text.shutdown}"
						th:title="#{html.button.title.shutdown}"
						onclick="this.form.submit()">
					SHUTDOWN APPLICATION
				</button>
			</form>
			
			<div class="language">
				
				<form name="lang" action="/" method="get"
					  th:action="@{${currentURL}}">
					<select name="lang" onchange="this.form.submit()">
						<option value="ru"
								th:each="lang : ${supportedLanguages}"
								th:text="${lang}"
								th:value="${lang}"
								th:selected="${lang == language}">
							RU
						</option>
					</select>
				</form>
			
			</div>
		
		</div>
	
	</header>
	
	<!-- UPPER NAV MENU	-->
	
	<nav class="upNav">
		<ul class="upperMenu">
			<li>
				<a href="./services.html" th:href="@{/services}" th:text="#{html.a.text.services}">
					Services list
				</a>
				<ul class="subMenu">
					<li th:each="service : ${classifiersGroupsNames}">
						<a href="./services.html"
						   th:href="@{/services#__${service}__}"
						   th:text="${service}">
							Service one
						</a>
					</li>
				
				</ul>
			
			</li>
			<li>
				<a href="./workshop.html"
				   th:href="@{/workshop}"
				   th:text="#{html.a.text.ourWorkshop}">
					Our workshop
				</a>
				
				<ul class="subMenu">
					<li>
						<a href="./workshopStuff.html"
						   th:href="@{/workshop-stuff}"
						   th:text="#{html.a.text.workshopStuff}">
							Spring Boot
						</a>
					</li>
				
				</ul>
			
			
			</li>
			<li title="How it works in a nutshell">
				<a href="./details.html"
				   th:href="@{${currentURL}}" th:text="#{html.upNav.upperMenu.projectInDetail}"
				   th:title="#{html.upNav.upperMenu.projectInDetail.title}">
					Project in details
				</a>
				
				<ul class="subMenu">
					<li>
						<a href="./howItWorks.html"
						   th:href="@{/how-it-works}"
						   th:text="#{html.upNav.upperMenu.projectInDetail.submenu.howItWorks}">
							How it should work
						</a>
					</li>
					<li>
						<a href="./authentication.html" title="How it checks usernames and passwords"
						   th:href="@{/authentication}"
						   th:text="#{html.upNav.upperMenu.projectInDetail.submenu.authenticationSecurity}"
						   th:title="#{html.upNav.upperMenu.projectInDetail.submenu.authenticationSecurity.title}">
							Authentication Security
						</a>
					</li>
					<li>
						<a href="./authorization.html" title="How it grants access based on Granted Authorities"
						   th:href="@{/authorization}"
						   th:text="#{html.upNav.upperMenu.projectInDetail.submenu.authorizationSecurity}"
						   th:title="#{html.upNav.upperMenu.projectInDetail.submenu.authorizationSecurity.title}">
							Authorization Security
						</a>
					</li>
				
				</ul>
			
			</li>
			<li>
				<a href="./underConstruction.html"
				   th:href="@{/under-construction}"
				   th:text="#{html.upNav.upperMenu.underConstruction}">
					What is under construction
				</a>
			</li>
			<li>
				<a class="modalA"
				   href="#loginModalBackground"
				   th:href="@{#loginModalBackground}"
				   th:text="#{html.upNav.upperMenu.designComplaint}">
					To complain of design and make-up
				</a>
			</li>
		
		</ul>
	</nav>
	
	<!-- ===== CENTER CONTAINER	===== -->
	
	<div class="containerCenter">
		
		<!--	LEFT NAV CONTAINER	-->
		
		<nav class="leftNav">
			
			<ul>
				<li>
					<a href="index-demo.html" title="Workshop demo main page"
					   th:href="@{/index-demo}"
					   th:text="#{html.a.text.index-demo}"
					   th:title="#{html.a.title.index-demo}">
						MAIN DEMO-PAGE
					</a>
				</li>
				<li>
					<a href="index.html" title="Workshop main page"
					   th:href="@{/}"
					   th:text="#{html.a.text.index}"
					   th:title="#{html.a.title.index}">
						MAIN PAGE
					</a>
				</li>
				<li>
					<a href="./internal/login" title="Workshop Internal domain page"
					   th:href="@{/internal/login}"
					   th:text="#{html.a.text.internalPage}"
					   th:title="#{html.a.title.internalPage}">
						INTERNAL PAGE
					</a>
				</li>
			</ul>
		
		</nav>
		
		<!--	MAIN ARTICLE	-->
		
		<article class="article">
			<th:block layout:fragment="articleFragment"/>
		</article>
	
	</div>
	
	<!--	-->
	
	<footer class="footer" th:fragment="thFooter">
		
		<div class="contacts">
			<h4 th:text="#{html.h4.contacts}">Contacts:</h4>
			<ul>
				<li>
					<a href="address.html"
					   th:href="#{/address}"
					   th:text="#{html.a.text.address}">
						Address
					</a>
				</li>
				<li>
					<a href="howToGet.html"
					   th:href="#{/howToGet}"
					   th:text="#{html.a.text.howToGetToUs}">
						How to get to us
					</a>
				</li>
			</ul>
		</div>
		
		<div class="contacts">
			<ul>
				<li>
					<a href="contacts.html"
					   th:href="#{/contacts}"
					   th:text="#{html.a.text.contacts}">
						Address
					</a>
				</li>
			</ul>
		</div>
	
	</footer>
	
	<!--	MODAL LOGIN WINDOW WITHIN .containerMain -->
	
	<div id="loginModalBackground">
		
		<div class="loginModalWindow">
			
			<a class="closeA" href=""
			   th:href="#{${currentURL}}"
			   th:text="#{html.a.text.close}">Close window</a>
			
			<p th:utext="#{html.article.login}">MODAL TEXT</p>
			
			<div class="formContainer">
				<div class="login">
					<form name="loginForm" action="/login" method="post" class="loginForm" th:action="@{/login}">
						<input type="text" id="inputUsername" name="email" value="user@email.pro"
							   th:value="#{html.input.login.loginUsername}">
						<span class="errorMessage" id="userErrorMessage">Possible error message</span>
						<br>
						<input type="text" id="inputPassword" name="password" value="12345"
							   th:value="#{html.input.password.loginPassword}">
						<span class="errorMessage" id="passwordErrorMessage">Possible error message</span>
						<br>
						<button class="buttonLogin"
								onclick="this.form.submit()"
								th:text="#{html.submit.login}">
							LOGIN
						</button>
						<br>
						<button class="buttonLogin buttonRegistration"
								title="Registration advantages description"
								onclick="this.form.submit()"
								th:text="#{html.submit.registration}"
								th:title="#{html.button.title.registration}">
							REGISTRATION
						</button>
					
					</form>
				</div>
			</div>
			
			<table class="usersTable">
				
				<caption title th:text="#{html.thead.external.login.predefinedUsers}">
					The predefined users list
				</caption>
				<tr>
					<th th:text="#{properties.fullName}">
						Full name
					</th>
					<th th:text="#{properties.email}">
						Email
					</th>
					<th th:text="#{properties.enabled}">
						Department
					</th>
					<th th:text="#{properties.language}">
						Language
					</th>
				</tr>
			
			</table>
		
		
		</div>
	
	</div>
</div>

<!-- END MAIN CONTAINER -->


</body>
</html>
